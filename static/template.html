<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Carte de fidélité</title>
  <style>
    :root {
      --bg:#0f172a; --fg:#e2e8f0; --acc:#22d3ee; --mut:#94a3b8;
      --card-w: 340px; --card-h: 200px; --radius: 16px;
    }
    * { box-sizing: border-box; }
    html, body { margin:0; padding:0; background:#111827; color:var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji"; }
    .wrap { min-height:100vh; display:grid; place-items:center; padding:24px; }
    .carte {
      width: min(95vw, var(--card-w));
      height: var(--card-h);
      background: linear-gradient(135deg, #0f172a 0%, #111827 40%, #0b1324 100%);
      border-radius: var(--radius);
      border: 1px solid #1f2937;
      position: relative;
      padding: 16px 16px 12px 16px;
      overflow: hidden;
    }
    .brand { position:absolute; top:12px; right:14px; font-weight:700; letter-spacing:.5px; color:var(--acc); font-size:14px; }
    .nom { font-size: 20px; font-weight:700; margin: 4px 0 2px; color:#fff; }
    .email { font-size:12px; color:var(--mut); margin: 0 0 10px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .row { display:flex; gap:12px; align-items:center; }
    .pill { padding:6px 10px; border-radius:999px; background:#0b1220; border:1px solid #1f2737; font-size:12px; color:#cbd5e1; }
    .code { margin-top:6px; font-size:12px; color:#cbd5e1; }
    .barcode-box {
      position:absolute; left:16px; right:16px; bottom:12px;
      background:#0b1220; border:1px dashed #1f2737; border-radius:10px; padding:8px; display:flex; justify-content:center;
    }
    .barcode { display:block; width:100%; height:56px; object-fit:contain; filter:contrast(115%); }
    @media print {
      body { background:#fff; color:#000; }
      .wrap { padding:0; }
      .carte { border-color:#000; background:#fff; color:#000; }
      .pill, .barcode-box { background:#fff; border-color:#000; }
      .nom { color:#000; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="carte">
      <div class="brand">MDL FIDÉLITÉ</div>

      <div class="nom">{{PRENOM}} {{NOM}}</div>
      <div class="email">{{EMAIL}}</div>

      <div class="row">
        <div class="pill">Points: <strong>{{POINTS}}</strong></div>
        <div class="pill">Réduction: <strong>{{REDUCTION}}</strong></div>
      </div>

      <div class="code">Code: <strong>{{CODE}}</strong></div>

      <div class="barcode-box">
        <img class="barcode" src="{{BARCODE_URL}}" alt="Code‑barres">
      </div>
    </div>
  </div>
</body>
</html>
