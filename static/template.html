<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Carte de fidélité</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root{
      /* ratio de TON visuel: 1024×585 (≈ 16:9). Si tu changes l'image, ajuste ici */
      --w:1024; --h:585;
      /* Positions (en %) des zones texte. Ajustables si besoin. */
      --nom-left: 24%;
      --nom-top: 62%;
      --nom-width: 64%;
      --nom-height: 9%;

      --prenom-left: 24%;
      --prenom-top: 73.5%;
      --prenom-width: 64%;
      --prenom-height: 9%;

      --points-left: 24%;
      --points-top: 86.2%;
      --points-width: 22%;
      --points-height: 10%;

      --reduc-left: 41.8%;
      --reduc-top: 86.2%;
      --reduc-width: 22%;
      --reduc-height: 10%;
    }
    html,body{margin:0;height:100%}
    body{background:#f5f7fb;display:grid;place-items:center;padding:16px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:#1a1f2c}
    .card{
      position:relative;
      aspect-ratio: var(--w) / var(--h);
      width: min(92vw, 860px);   /* grand sur PC, s’adapte sur mobile */
      max-height: 92vh;
      background: #fff url('/static/carte-mdl.png') center/cover no-repeat;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0,0,0,.10);
      overflow:hidden;
    }
    .field{
      position:absolute;
      display:flex; align-items:center;
      padding: 0 1.2%;
      color:#1c2434;
      font-weight: 700;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      /* s’adapte: ↓ rétrécit sur mobile, grandit sur PC, évite le “Nom tronqué” */
      font-size: clamp(14px, 2.2vw, 24px);
      letter-spacing: .2px;
    }
    .nom{
      left: var(--nom-left); top: var(--nom-top);
      width: var(--nom-width); height: var(--nom-height);
      transform: translateY(-50%);
    }
    .prenom{
      left: var(--prenom-left); top: var(--prenom-top);
      width: var(--prenom-width); height: var(--prenom-height);
      transform: translateY(-50%);
    }
    .points{
      left: var(--points-left); top: var(--points-top);
      width: var(--points-width); height: var(--points-height);
      transform: translateY(-50%);
      justify-content:center;    /* zone plus courte -> centrage visuel */
      font-weight: 800;
    }
    .reduc{
      left: var(--reduc-left); top: var(--reduc-top);
      width: var(--reduc-width); height: var(--reduc-height);
      transform: translateY(-50%);
      justify-content:center;
      font-weight: 800;
    }

    /* Optionnel: si un texte est vraiment très long, on réduit un peu plus */
    @container style(--w: 1024){
      .field{ font-size: clamp(13px, 2vw, 22px); }
    }

    /* Petit watermark discrète si tu veux afficher un code-barres (désactivé par défaut)
    .barcode{
      position:absolute; right:2.8%; bottom:4%;
      width:min(36%, 320px);
      background:#fff8; padding:6px 8px; border-radius:10px;
    } */
  </style>
</head>
<body>
  <div class="card">
    <div class="field nom">{{NOM}}</div>
    <div class="field prenom">{{PRENOM}}</div>
    <div class="field points">{{POINTS}}</div>
    <div class="field reduc">{{REDUCTION}}</div>

    <!-- Si tu veux ré‑afficher un code‑barres: décommente ci‑dessous
    <img class="barcode" src="{{BARCODE_URL}}" alt="Code-barres">
    -->
  </div>
</body>
</html>
